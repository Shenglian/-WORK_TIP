## 為什麼要引進for-of



要回答這個問題，我們先來看看ES6之前的3 種for 循環有什麼缺陷：

- forEach 不能break 和return；
- for-in 缺點更加明顯，它不僅遍歷數組中的元素，還會遍歷自定義的屬性，甚至原型鏈上的屬性都被訪問到。而且，遍歷數組元素的順序可能是隨機的。



那 `for-of` 到底可以乾什麼呢？

- 跟forEach 相比，可以正確響應break, continue, return。
- `for-of` 循環不僅支持數組，還支持大多數類數組對象，例如DOM nodelist 對象。
- `for-of` 循環也支持字符串遍歷，它將字符串視為一系列Unicode 字符來進行遍歷。
- `for-of` 也支持Map 和Set （兩者均為ES6 中新增的類型）對象遍歷。



總結一下，`for-of` 循環有以下幾個特徵：

- 這是最簡潔、最直接的遍歷數組元素的語法。
- 這個方法避開了 `for-in` 循環的所有缺陷。
- 與forEach 不同的是，它可以正確響應break、continue 和return 語句。
- 其不僅可以遍歷數組，還可以遍歷類數組對象和其他可迭代對象。



但需要注意的是，for-of循環不支持普通對象，但如果你想迭代一個對象的屬性，你可以用
`for-in` 循環（這也是它的本職工作）。